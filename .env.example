# ============================================
# DATABASE CONFIGURATION
# ============================================
# Connection string untuk PostgreSQL
# Format: postgres://username:password@host:port/database?sslmode=disable&search_path=schema_name
# Ganti 'search_path' untuk pindah schema/database
DB_CONN_STRING="postgres://username:password@localhost:5432/database_name?sslmode=disable&search_path=schema_name"

# Maksimum koneksi database yang terbuka
DB_MAX_OPEN_CONNS=25

# Maksimum koneksi database yang idle
DB_MAX_IDLE_CONNS=10

# Maksimum waktu hidup koneksi database (format: 5m, 1h, 30s)
DB_CONN_MAX_LIFETIME=5m

# Timeout untuk koneksi database (format: 5s, 10s, 1m)
DB_CONN_TIMEOUT=5s

# ============================================
# AI SERVICE CONFIGURATION (GROQ)
# ============================================
# API Key untuk Groq AI (untuk generate SQL dari natural language)
# Dapatkan di: https://console.groq.com/keys
GROQ_API_KEY="your_groq_api_key_here"

# URL endpoint Groq API
GROQ_API_URL="https://api.groq.com/openai/v1/chat/completions"

# Model Groq yang digunakan (llama-3.1-8b-instant, llama-3.1-70b-versatile, dll)
GROQ_MODEL="llama-3.1-8b-instant"

# Timeout untuk request ke Groq API (format: 30s, 1m, 2m)
GROQ_TIMEOUT=30s

# ============================================
# GOOGLE AI CONFIGURATION (GEMINI)
# ============================================
# API Key untuk Google Generative AI (untuk embedding)
# Dapatkan di: https://makersuite.google.com/app/apikey
GOOGLE_API_KEY="your_google_api_key_here"

# Model embedding yang digunakan
EMBEDDING_MODEL="models/text-embedding-004"

# Dimensi vektor embedding (768 untuk text-embedding-004)
EMBEDDING_VECTOR_SIZE=768

# ============================================
# QDRANT VECTOR DATABASE CONFIGURATION
# ============================================
# API Key untuk Qdrant Cloud (kosongkan jika menggunakan Qdrant lokal)
QDRANT_API_KEY=""

# Host Qdrant (localhost untuk lokal, atau URL cloud)
QDRANT_HOST="localhost"

# Port Qdrant untuk gRPC client (default: 6334)
QDRANT_PORT=6334

# URL Qdrant untuk HTTP API (digunakan saat training)
QDRANT_URL="http://localhost:6333"

# Nama collection Qdrant untuk menyimpan vektor RAG
QDRANT_COLLECTION_NAME="bpr_supra_rag"

# Nama collection Qdrant untuk semantic cache
QDRANT_CACHE_COLLECTION="bpr_supra_cache"

# Jumlah hasil pencarian vektor yang dikembalikan
QDRANT_SEARCH_LIMIT=7

# Threshold untuk semantic cache hit (0.0 - 1.0)
# Semakin tinggi, semakin strict (default: 0.95)
QDRANT_CACHE_THRESHOLD=0.95

# Timeout untuk request ke Qdrant (format: 10s, 30s, 1m)
QDRANT_TIMEOUT=10s

# ============================================
# SERVER CONFIGURATION
# ============================================
# Port untuk menjalankan web server (default: 8080)
SERVER_PORT=8080

# ============================================
# CACHE CONFIGURATION
# ============================================
# Nama file untuk menyimpan cache query
CACHE_FILE="cache.json"

# ============================================
# FEEDBACK & TRAINING CONFIGURATION
# ============================================
# Nama tabel untuk menyimpan feedback koreksi SQL dari user
# Format: schema_name.table_name
FEEDBACK_TABLE_NAME="bpr_supra.rag_sql_examples"

